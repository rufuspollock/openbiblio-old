<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf8" />
		<title>Bibliographica (beta)</title>
        <link rel="stylesheet" type="text/css" href="http://knowledgeforge.net/media/css/master.css" />
		<link type="text/css" href="css/overcast/jquery-ui-1.8.1.custom.css" rel="stylesheet" />	
		<link type="text/css" href="css/fresnel.css" rel="stylesheet" />	
        <style>
            div.fresnel_controls {
                display: block;
            }
            div.fresnel_edit_controls {
                float: right;
            }
            div.fresnel_controls ul {
                margin: 0;
                padding: 0;
            }
            div.fresnel_controls li {
                margin: 2px;
                position: relative;
                padding: 4px 0;
                cursor: pointer;
                float: left;
                list-style: none;
            }
            div.fresnel_controls span.ui-icon {
                float: left;
                margin: 0 4px;
            }
        </style>
		<script type="text/javascript" src="js/jquery-1.4.2.min.js"></script>
		<script type="text/javascript" src="ui/jquery-ui-1.8.1.custom.min.js"></script>
        <script type="text/javascript" src="js/jquery.rdfquery.rules.min-1.0.js"></script>
        <script type="text/javascript" src="js/jquery.ordf.js"></script>
        <script type="text/javascript" src="js/jquery.fresnel.js"></script>
        <script type="text/javascript" src="js/jquery.fresnel.edit.js"></script>
		<script type="text/javascript">
            test_lens = "http://bibliographica.org/lens/owl";
//            test_graph = "http://upstream.openlibrary.org/books/OL2060998M.rdf";
//            test_graph = "http://dbpedia.org/resource/Iain_Banks";
            test_graph = "http://dbpedia.org/resource/Giovanni_Villani";
			$(function(){
                fresnel = new $.rdf.fresnel();
                fresnel.addFresnel({ uri: test_lens });
                $("#viewer")
                    .Fresnel({ fresnel: fresnel, editable: true })
                    .FresnelControls({ fresnel: fresnel });
/*
                $("<li></li>")
                    .css({ "padding-left": "5px" })
                    .LensChooser({ fresnel: fresnel, uri: test_lens })
                    .appendTo("#subnav");
 */
/*
                $("#primary")
                    .GraphChooser({ fresnel: fresnel });
*/
//                var store = new $.ordf();
//                store.recv({ uri: test_graph,
//                              callback: function (g) { fresnel.addData(g) }});
				// Tabs
				$('#tabs').tabs();
                $('#resource')
                    .val(test_graph);
                $('#add_resource')
                    .val("Load from Store")
                    .click(function (event) {
                        event.stopPropagation();
                        var uri = $("#resource").val();
                        var store = new $.ordf();
                        store.recv({ uri: uri,
                                     callback: function (g) { fresnel.addData(g); }});
                    });
                $('#fetch_resource')
                    .val("Fetch Remote")
                    .click(function (event) {
                        event.stopPropagation();
                        var uri = $("#resource").val();
                        var store = new $.ordf();
                        store.proxy({ uri: uri,
                                      callback: function (g) { fresnel.addData(g); }});
                    });
                this.data = {};
			});
		</script>
	</head>
	<body>
        <div id="top">
            <div id="top-inner">
                <div id="top-bar">
                    <h1><a href="http://bibliographica.org/">Bibliographica<sup style="font-size:0
.4em;">Beta</sup></a></h1>
                </div>
            </div>
            <ul id="subnav">
                <li>
                    <input type="text" size="80" id="resource" />
                    <input type="submit" id="add_resource" />
                    <input type="submit" id="fetch_resource" />
                </li>
            </ul>
        </div>
        <div id="main">
<!--    		<div id="tabs">
    			<ul>
                    <li><a href="#viewer">Viewer</a></li>
    			</ul> -->
                <div id="viewer"></div>
<!--    		</div> -->
        </div>
        <div id="primary" class="sidebar"></div>
	</body>
</html>


